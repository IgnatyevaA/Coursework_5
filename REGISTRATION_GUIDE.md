# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## –ì–¥–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è?

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ API –≤–∞—à–µ–≥–æ –±—ç–∫–µ–Ω–¥–∞. –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤:

## –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Swagger UI (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π) ‚≠ê

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Django —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
   ```powershell
   .\run_server.ps1
   ```
   –ò–ª–∏:
   ```powershell
   .\.venv\Scripts\python manage.py runserver
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   http://127.0.0.1:8000/api/docs/
   ```

3. **–ù–∞–π–¥–∏—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/auth/register/`**

4. **–ù–∞–∂–º–∏—Ç–µ "Try it out"**

5. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:**
   ```json
   {
     "username": "sushkaaaai",
     "password": "–≤–∞—à_–ø–∞—Ä–æ–ª—å"
   }
   ```
   ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ `username`, —á—Ç–æ –∏ –≤ Telegram (–≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ `sushkaaaai`)

6. **–ù–∞–∂–º–∏—Ç–µ "Execute"**

7. **–ì–æ—Ç–æ–≤–æ!** –í—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã.

## –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ curl (–∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)

```powershell
curl -X POST http://127.0.0.1:8000/api/auth/register/ `
  -H "Content-Type: application/json" `
  -d '{"username": "sushkaaaai", "password": "–≤–∞—à_–ø–∞—Ä–æ–ª—å"}'
```

## –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Postman –∏–ª–∏ –¥—Ä—É–≥–æ–π HTTP –∫–ª–∏–µ–Ω—Ç

- **URL:** `POST http://127.0.0.1:8000/api/auth/register/`
- **Headers:** `Content-Type: application/json`
- **Body (JSON):**
  ```json
  {
    "username": "sushkaaaai",
    "password": "–≤–∞—à_–ø–∞—Ä–æ–ª—å"
  }
  ```

## –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ Chat ID

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ç–æ—Ç –∂–µ `username`, —á—Ç–æ –∏ –≤ Telegram (`sushkaaaai`), —Ç–æ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –æ—Ç–ø—Ä–∞–≤–∫–µ `/start` –±–æ—Ç—É, –≤–∞—à Chat ID –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ Chat ID

1. **–ü–æ–ª—É—á–∏—Ç–µ JWT —Ç–æ–∫–µ–Ω** (–∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å):
   ```powershell
   curl -X POST http://127.0.0.1:8000/api/auth/token/ `
     -H "Content-Type: application/json" `
     -d '{"username": "sushkaaaai", "password": "–≤–∞—à_–ø–∞—Ä–æ–ª—å"}'
   ```

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω** –∏–∑ –æ—Ç–≤–µ—Ç–∞ (–ø–æ–ª–µ `access`)

3. **–£–∫–∞–∂–∏—Ç–µ Chat ID** (–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞: `1242522790`):
   ```powershell
   curl -X PATCH http://127.0.0.1:8000/api/users/me/telegram/ `
     -H "Authorization: Bearer –í–ê–®_–¢–û–ö–ï–ù" `
     -H "Content-Type: application/json" `
     -d '{"telegram_chat_id": 1242522790}'
   ```

   –ò–ª–∏ —á–µ—Ä–µ–∑ Swagger UI:
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: `PATCH /api/users/me/telegram/`
   - –ù–∞–∂–º–∏—Ç–µ "Authorize" (üîì) –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω
   - Body: `{"telegram_chat_id": 1242522790}`

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —É–∫–∞–∑–∞–Ω–∏—è Chat ID:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–≤—ã—á–∫–∏** —á–µ—Ä–µ–∑ API:
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /api/habits/`
   - –£–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º—è, –º–µ—Å—Ç–æ, –¥–µ–π—Å—Ç–≤–∏–µ
   - –ë–æ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è!

2. **–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ –ø—Ä–∏–≤—ã—á–∫–∏:**
   - `GET /api/habits/` - –≤–∞—à–∏ –ø—Ä–∏–≤—ã—á–∫–∏
   - `GET /api/habits/public/` - –ø—É–±–ª–∏—á–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Swagger UI:** http://127.0.0.1:8000/api/docs/
- **OpenAPI Schema:** http://127.0.0.1:8000/api/schema/
